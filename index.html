<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B√°ch khoa B·ªánh l√Ω Di truy·ªÅn (Phi√™n b·∫£n tƒ©nh)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Calm Neutrals -->
    <!-- Application Structure Plan: This is a static, offline-first version. The structure remains a single-page app with Home, Lookup, and Mechanisms tabs. The key change is the pre-generation and embedding of all AI-generated content (simple explanations) directly into the JavaScript data object. The "doctor questions" and "suggested answers" sections have been removed as per user request. -->
    <!-- Visualization & Content Choices: 
    - AI Content: Report Info (All diseases) -> Goal (Provide offline AI insights) -> Presentation (Pre-generated text for explanations embedded in JS object) -> Interaction (Click to reveal pre-generated text in modal accordions) -> Justification (Enables full offline use, a key user requirement) -> Library (Vanilla JS).
    - Animations: Goal (Enhance visual appeal and feedback) -> Presentation (CSS keyframe animations and transitions) -> Interaction (Applied on card load, modal open, accordion toggle) -> Justification (Makes the static app feel more dynamic and engaging) -> Library (CSS).
    - All other choices remain the same as the previous interactive version, focusing on a clear, filterable, and explorable user interface.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8f9fa;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 400px;
            height: auto;
            margin-left: auto;
            margin-right: auto;
        }
        .nav-btn {
            transition: all 0.3s ease;
        }
        .nav-btn.active {
            background-color: #3b82f6;
            color: white;
        }
        .card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            opacity: 0;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .modal {
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }
        .filter-btn.active {
            background-color: #1e40af;
            color: white;
            border-color: #1e40af;
        }
        .accordion-content {
            transition: max-height 0.5s ease-in-out, padding 0.5s ease-in-out;
            max-height: 0;
            overflow: hidden;
            padding-top: 0;
            padding-bottom: 0;
        }
        .accordion-content.open {
            max-height: 1000px; /* large enough value */
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .fade-in-up {
            animation: fadeIn 0.6s ease-out forwards;
        }
        .fade-in-up-delay-1 { animation: fadeIn 0.6s ease-out 0.2s forwards; }
        .fade-in-up-delay-2 { animation: fadeIn 0.6s ease-out 0.4s forwards; }
        .fade-in-up-delay-3 { animation: fadeIn 0.6s ease-out 0.6s forwards; }
    </style>
</head>
<body class="text-gray-800">

    <div id="app" class="container mx-auto p-4 md:p-8">
        
        <header class="text-center mb-8">
            <h1 class="text-4xl md:text-5xl font-bold text-blue-800 opacity-0 fade-in-up">B√°ch khoa B·ªánh l√Ω Di truy·ªÅn</h1>
            <p class="text-lg text-gray-600 mt-2 opacity-0 fade-in-up-delay-1">M·ªôt c√¥ng c·ª• tra c·ª©u t∆∞∆°ng t√°c v·ªÅ c√°c b·ªánh l√Ω di truy·ªÅn th∆∞·ªùng g·∫∑p</p>
        </header>

        <nav class="flex justify-center mb-8 bg-white p-2 rounded-full shadow-md opacity-0 fade-in-up-delay-2">
            <button data-tab="home" class="nav-btn active px-4 py-2 md:px-6 rounded-full font-semibold">Trang ch·ªß</button>
            <button data-tab="lookup" class="nav-btn px-4 py-2 md:px-6 rounded-full font-semibold">Tra c·ª©u</button>
            <button data-tab="mechanisms" class="nav-btn px-4 py-2 md:px-6 rounded-full font-semibold">C∆° ch·∫ø Di truy·ªÅn</button>
        </nav>

        <main>
            <div id="home" class="tab-content opacity-0 fade-in-up-delay-3">
                <div class="bg-white p-6 md:p-8 rounded-xl shadow-lg">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">Ch√†o m·ª´ng b·∫°n!</h2>
                    <p class="text-gray-700 mb-6">
                        ·ª®ng d·ª•ng n√†y ƒë∆∞·ª£c t·∫°o ra ƒë·ªÉ h·ªá th·ªëng h√≥a v√† tr·ª±c quan h√≥a th√¥ng tin t·ª´ t√†i li·ªáu "T·ªïng h·ª£p B·ªánh l√Ω Di truy·ªÅn". Thay v√¨ ƒë·ªçc m·ªôt vƒÉn b·∫£n d√†i, b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng c√°c c√¥ng c·ª• t∆∞∆°ng t√°c ƒë·ªÉ l·ªçc, t√¨m ki·∫øm v√† kh√°m ph√° th√¥ng tin m·ªôt c√°ch nhanh ch√≥ng v√† hi·ªáu qu·∫£. Phi√™n b·∫£n n√†y ho·∫°t ƒë·ªông ho√†n to√†n ngo·∫°i tuy·∫øn.
                    </p>
                    <div class="grid md:grid-cols-2 gap-8 items-center">
                        <div>
                            <h3 class="text-xl font-semibold mb-4 text-center">Ph√¢n b·ªë B·ªánh l√Ω theo Chuy√™n khoa</h3>
                            <div class="chart-container">
                                <canvas id="specialtyChart"></canvas>
                            </div>
                        </div>
                        <div class="text-gray-700 space-y-4">
                            <div class="flex items-start">
                                <span class="text-blue-500 text-2xl mr-4">üí°</span>
                                <p><strong>T∆∞∆°ng t√°c:</strong> S·ª≠ d·ª•ng c√°c b·ªô l·ªçc trong trang Tra c·ª©u ƒë·ªÉ thu h·∫πp danh s√°ch b·ªánh l√Ω theo nhu c·∫ßu c·ªßa b·∫°n.</p>
                            </div>
                            <div class="flex items-start">
                                <span class="text-blue-500 text-2xl mr-4">üñ±Ô∏è</span>
                                <p><strong>Kh√°m ph√°:</strong> Nh·∫•p v√†o b·∫•t k·ª≥ th·∫ª b·ªánh l√Ω n√†o ƒë·ªÉ xem th√¥ng tin chi ti·∫øt v·ªÅ c∆° ch·∫ø, tri·ªáu ch·ª©ng v√† ch·∫©n ƒëo√°n.</p>
                            </div>
                             <div class="flex items-start">
                                <span class="text-blue-500 text-2xl mr-4">‚ú®</span>
                                <p><strong>N·ªôi dung AI c√≥ s·∫µn:</strong> Trong chi ti·∫øt m·ªói b·ªánh, n·ªôi dung gi·∫£i th√≠ch ƒë√£ ƒë∆∞·ª£c t·∫°o s·∫µn ƒë·ªÉ b·∫°n tham kh·∫£o ngay l·∫≠p t·ª©c.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="lookup" class="tab-content hidden">
                <div class="bg-white p-6 md:p-8 rounded-xl shadow-lg">
                    <div id="filters" class="mb-8">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                            <input type="text" id="searchInput" placeholder="T√¨m ki·∫øm theo t√™n b·ªánh..." class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition">
                        </div>
                        <div class="mb-4">
                            <h4 class="font-semibold mb-2">L·ªçc theo Chuy√™n khoa:</h4>
                            <div id="specialtyFilters" class="flex flex-wrap gap-2"></div>
                        </div>
                        <div>
                            <h4 class="font-semibold mb-2">L·ªçc theo Lo·∫°i B·∫•t th∆∞·ªùng:</h4>
                            <div id="mechanismTypeFilters" class="flex flex-wrap gap-2"></div>
                        </div>
                    </div>
                    <div id="diseaseGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
                    </div>
                </div>
            </div>

            <div id="mechanisms" class="tab-content hidden">
                 <div class="bg-white p-6 md:p-8 rounded-xl shadow-lg">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center">T√¨m hi·ªÉu v·ªÅ c√°c C∆° ch·∫ø Di truy·ªÅn</h2>
                    <div id="accordion" class="space-y-4">
                    </div>
                </div>
            </div>
        </main>

        <footer class="text-center text-sm text-gray-500 mt-12 pb-8 opacity-0 fade-in-up-delay-3">
            <p>D·ªØ li·ªáu ƒë∆∞·ª£c t·ªïng h·ª£p v√† bi√™n so·∫°n b·ªüi TEAMDRCAT</p>
            <p class="mt-1">Ch√∫c c√°c em √¥n thi hi·ªáu qu·∫£ ƒë·∫°t k·∫øt qu·∫£ nh∆∞ mong mu·ªën ^^</p>
        </footer>
    </div>

    <div id="modal" class="modal fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center p-4 hidden opacity-0 invisible">
        <div id="modal-content" class="bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto p-8 relative opacity-0 transform scale-95 transition-all duration-300">
            <button id="closeModal" class="absolute top-4 right-4 text-gray-500 hover:text-gray-800 text-3xl">&times;</button>
            <h2 id="modal-title" class="text-3xl font-bold text-blue-800 mb-4"></h2>
            <div class="space-y-6">
                <div>
                    <h3 class="text-xl font-semibold border-b-2 border-blue-200 pb-2 mb-3">üî¨ C∆° ch·∫ø g√¢y b·ªánh</h3>
                    <p id="modal-mechanism" class="text-gray-700"></p>
                </div>
                <div>
                    <h3 class="text-xl font-semibold border-b-2 border-blue-200 pb-2 mb-3">ü©∫ Tri·ªáu ch·ª©ng l√¢m s√†ng ch√≠nh</h3>
                    <p id="modal-symptoms" class="text-gray-700 whitespace-pre-wrap"></p>
                </div>
                <div>
                    <h3 class="text-xl font-semibold border-b-2 border-blue-200 pb-2 mb-3">üß™ Ph∆∞∆°ng ph√°p ch·∫©n ƒëo√°n</h3>
                    <p id="modal-diagnosis" class="text-gray-700 font-medium"></p>
                </div>
            </div>
            <div class="mt-8 pt-6 border-t border-gray-200">
                <h3 class="text-xl font-semibold mb-4 text-gray-800 flex items-center">
                    <span class="text-2xl mr-2">‚ú®</span> Tr·ª£ l√Ω Th√¥ng tin
                </h3>
                <div class="space-y-4">
                    <div class="accordion-item-ai border border-gray-200 rounded-lg overflow-hidden">
                        <button class="accordion-header-ai w-full text-left p-4 bg-blue-50 hover:bg-blue-100 transition focus:outline-none flex justify-between items-center">
                            <span class="font-semibold text-blue-800">Gi·∫£i th√≠ch ƒë∆°n gi·∫£n</span>
                            <span class="transform transition-transform duration-300">‚ñº</span>
                        </button>
                        <div class="accordion-content-ai p-4 bg-white">
                            <p id="ai-explanation" class="text-gray-700"></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const db = {
            diseases: [
                { id: 1, name: 'H·ªôi ch·ª©ng Down (Trisomy 21)', specialty: 'Nhi', mechanism_type: 'B·∫•t th∆∞·ªùng s·ªë l∆∞·ª£ng NST', mechanism: 'Th·ª´a m·ªôt b·∫£n sao NST 21: Ch·ªß y·∫øu (>95%) do s·ª± kh√¥ng ph√¢n ly c·ªßa c·∫∑p NST 21 trong qu√° tr√¨nh gi·∫£m ph√¢n ·ªü b·ªë ho·∫∑c m·∫π. C√°c d·∫°ng hi·∫øm h∆°n bao g·ªìm chuy·ªÉn ƒëo·∫°n Robertson v√† th·ªÉ kh·∫£m.', symptoms: '‚Ä¢ R·ªëi lo·∫°n ph√°t tri·ªÉn: Ch·∫≠m ph√°t tri·ªÉn tr√≠ tu·ªá, gi·∫£m tr∆∞∆°ng l·ª±c c∆°.\n‚Ä¢ ƒê·∫∑c ƒëi·ªÉm h√¨nh th√°i: M·∫∑t d·∫πt, khe m·∫Øt x·∫øch, m·ªôt ƒë∆∞·ªùng ch·ªâ tay ngang.\n‚Ä¢ D·ªã t·∫≠t b·∫©m sinh: D·ªã t·∫≠t tim (kho·∫£ng 50%), d·ªã t·∫≠t ti√™u h√≥a.', diagnosis: 'Karyotype', aiExplanation: 'H√£y t∆∞·ªüng t∆∞·ª£ng c∆° th·ªÉ ch√∫ng ta ƒë∆∞·ª£c x√¢y d·ª±ng t·ª´ nh·ªØng cu·ªën s√°ch h∆∞·ªõng d·∫´n g·ªçi l√† nhi·ªÖm s·∫Øc th·ªÉ (NST). B√¨nh th∆∞·ªùng, ch√∫ng ta c√≥ 23 c·∫∑p, t·ª©c 46 cu·ªën. Ng∆∞·ªùi m·∫Øc H·ªôi ch·ª©ng Down b·ªã th·ª´a m·ªôt cu·ªën s√°ch ·ªü c·∫∑p s·ªë 21, t·ª©c l√† h·ªç c√≥ 3 cu·ªën thay v√¨ 2. Cu·ªën s√°ch th·ª´a n√†y l√†m x√°o tr·ªôn m·ªôt ch√∫t c√°c h∆∞·ªõng d·∫´n, d·∫´n ƒë·∫øn nh·ªØng ƒë·∫∑c ƒëi·ªÉm ri√™ng v·ªÅ ngo·∫°i h√¨nh, s·ª± ph√°t tri·ªÉn tr√≠ tu·ªá ch·∫≠m h∆°n v√† ƒë√¥i khi c√≥ v·∫•n ƒë·ªÅ v·ªÅ tim m·∫°ch.' },
                { id: 2, name: 'H·ªôi ch·ª©ng Edwards (Trisomy 18)', specialty: 'Nhi', mechanism_type: 'B·∫•t th∆∞·ªùng s·ªë l∆∞·ª£ng NST', mechanism: 'Th·ª´a m·ªôt b·∫£n sao NST 18 do s·ª± kh√¥ng ph√¢n ly trong gi·∫£m ph√¢n.', symptoms: '‚Ä¢ D·ªã t·∫≠t n·∫∑ng ƒëa c∆° quan: Tim, th·∫≠n, h·ªá th·∫ßn kinh.\n‚Ä¢ ƒê·∫∑c ƒëi·ªÉm h√¨nh th√°i: B√†n tay n·∫Øm ch·∫∑t v·ªõi ng√≥n tr·ªè ch·ªìm l√™n ng√≥n gi·ªØa, g√≥t ch√¢n l·ªìi, c·∫±m nh·ªè.\n‚Ä¢ Ti√™n l∆∞·ª£ng: R·∫•t x·∫•u, >90% tr·∫ª t·ª≠ vong trong nƒÉm ƒë·∫ßu ƒë·ªùi.', diagnosis: 'Karyotype', aiExplanation: 'H·ªôi ch·ª©ng Edwards x·∫£y ra khi m·ªôt em b√© c√≥ th·ª´a m·ªôt nhi·ªÖm s·∫Øc th·ªÉ s·ªë 18. Gi·ªëng nh∆∞ c√≥ th√™m m·ªôt trang h∆∞·ªõng d·∫´n kh√¥ng c·∫ßn thi·∫øt trong b·ªô s√°ch x√¢y d·ª±ng c∆° th·ªÉ, n√≥ g√¢y ra nhi·ªÅu v·∫•n ƒë·ªÅ nghi√™m tr·ªçng trong qu√° tr√¨nh ph√°t tri·ªÉn ngay t·ª´ trong b·ª•ng m·∫π, ƒë·∫∑c bi·ªát l√† ·ªü tim, th·∫≠n v√† c√°c c∆° quan kh√°c. ƒêi·ªÅu n√†y l√†m cho c√°c em b√© r·∫•t y·∫øu v√† th∆∞·ªùng g·∫∑p kh√≥ khƒÉn ƒë·ªÉ s·ªëng s√≥t.' },
                { id: 3, name: 'H·ªôi ch·ª©ng Patau (Trisomy 13)', specialty: 'Nhi', mechanism_type: 'B·∫•t th∆∞·ªùng s·ªë l∆∞·ª£ng NST', mechanism: 'Th·ª´a m·ªôt b·∫£n sao NST 13 do s·ª± kh√¥ng ph√¢n ly trong gi·∫£m ph√¢n. C√°c gen tr√™n NST 13 r·∫•t quan tr·ªçng cho s·ª± ph√°t tri·ªÉn c·ªßa n√£o b·ªô v√† khu√¥n m·∫∑t.', symptoms: '‚Ä¢ D·ªã t·∫≠t h·ªá th·∫ßn kinh trung ∆∞∆°ng: T·∫≠t n√£o kh√¥ng ph√¢n chia (holoprosencephaly).\n‚Ä¢ D·ªã t·∫≠t m·∫∑t: S·ª©t m√¥i, h·ªü h√†m ·∫øch.\n‚Ä¢ D·ªã t·∫≠t kh√°c: ƒêa ng√≥n, d·ªã t·∫≠t tim n·∫∑ng. Ti√™n l∆∞·ª£ng r·∫•t x·∫•u.', diagnosis: 'Karyotype', aiExplanation: '·ªû h·ªôi ch·ª©ng Patau, em b√© c√≥ th·ª´a m·ªôt nhi·ªÖm s·∫Øc th·ªÉ s·ªë 13. NST n√†y ch·ª©a c√°c ch·ªâ d·∫´n quan tr·ªçng cho vi·ªác h√¨nh th√†nh n√£o v√† khu√¥n m·∫∑t. Vi·ªác c√≥ th√™m m·ªôt b·∫£n sao g√¢y ra nh·ªØng sai s√≥t nghi√™m tr·ªçng, d·∫´n ƒë·∫øn c√°c d·ªã t·∫≠t n·∫∑ng ·ªü n√£o, tim v√† c√°c ƒë·∫∑c ƒëi·ªÉm tr√™n m·∫∑t. ƒê√¢y l√† m·ªôt t√¨nh tr·∫°ng r·∫•t n·∫∑ng v√† ƒë√°ng bu·ªìn l√† h·∫ßu h·∫øt c√°c em b√© kh√¥ng th·ªÉ s·ªëng l√¢u.' },
                { id: 4, name: 'H·ªôi ch·ª©ng Turner (Monosomy X)', specialty: 'Nhi', mechanism_type: 'B·∫•t th∆∞·ªùng s·ªë l∆∞·ª£ng NST', mechanism: 'Thi·∫øu m·ªôt ph·∫ßn ho·∫∑c to√†n b·ªô NST X ·ªü n·ªØ (45,X), do l·ªói trong gi·∫£m ph√¢n ho·∫∑c ph√¢n b√†o.', symptoms: '‚Ä¢ R·ªëi lo·∫°n ph√°t tri·ªÉn: T·∫ßm v√≥c l√πn.\n‚Ä¢ ƒê·∫∑c ƒëi·ªÉm h√¨nh th√°i: C·ªï b√®, ch√¢n t√≥c sau g√°y th·∫•p.\n‚Ä¢ Suy sinh d·ª•c: Bu·ªìng tr·ª©ng kh√¥ng ph√°t tri·ªÉn, v√¥ sinh.\n‚Ä¢ D·ªã t·∫≠t tim m·∫°ch: H·∫πp eo ƒë·ªông m·∫°ch ch·ªß.', diagnosis: 'Karyotype', aiExplanation: 'H·ªôi ch·ª©ng Turner ch·ªâ ·∫£nh h∆∞·ªüng ƒë·∫øn n·ªØ gi·ªõi. Thay v√¨ c√≥ hai nhi·ªÖm s·∫Øc th·ªÉ gi·ªõi t√≠nh XX, h·ªç ch·ªâ c√≥ m·ªôt ho·∫∑c m·ªôt ph·∫ßn c·ªßa nhi·ªÖm s·∫Øc th·ªÉ X th·ª© hai b·ªã thi·∫øu. S·ª± thi·∫øu h·ª•t n√†y ·∫£nh h∆∞·ªüng ƒë·∫øn s·ª± ph√°t tri·ªÉn, khi·∫øn h·ªç th∆∞·ªùng th·∫•p h∆°n b√¨nh th∆∞·ªùng v√† bu·ªìng tr·ª©ng kh√¥ng ho·∫°t ƒë·ªông, g√¢y v√¥ sinh. M·ªôt s·ªë ng∆∞·ªùi c≈©ng c√≥ th·ªÉ c√≥ v·∫•n ƒë·ªÅ v·ªÅ tim.' },
                { id: 5, name: 'H·ªôi ch·ª©ng Klinefelter (47,XXY)', specialty: 'Nhi', mechanism_type: 'B·∫•t th∆∞·ªùng s·ªë l∆∞·ª£ng NST', mechanism: 'Th·ª´a √≠t nh·∫•t m·ªôt NST X ·ªü nam, ·∫£nh h∆∞·ªüng ƒë·∫øn s·ª± ph√°t tri·ªÉn c·ªßa tinh ho√†n v√† s·∫£n xu·∫•t testosterone.', symptoms: '‚Ä¢ Suy sinh d·ª•c: Tinh ho√†n nh·ªè, v√¥ sinh do kh√¥ng c√≥ tinh tr√πng.\n‚Ä¢ ƒê·∫∑c ƒëi·ªÉm h√¨nh th·ªÉ: D√°ng ng∆∞·ªùi cao, ch√¢n tay d√†i, c√≥ th·ªÉ c√≥ n·ªØ h√≥a tuy·∫øn v√∫.', diagnosis: 'Karyotype', aiExplanation: 'H·ªôi ch·ª©ng Klinefelter ch·ªâ ·∫£nh h∆∞·ªüng ƒë·∫øn nam gi·ªõi. Thay v√¨ c√≥ b·ªô nhi·ªÖm s·∫Øc th·ªÉ gi·ªõi t√≠nh XY, h·ªç c√≥ th√™m √≠t nh·∫•t m·ªôt nhi·ªÖm s·∫Øc th·ªÉ X (XXY). ƒêi·ªÅu n√†y l√†m cho c∆° th·ªÉ s·∫£n xu·∫•t √≠t testosterone h∆°n, d·∫´n ƒë·∫øn tinh ho√†n nh·ªè, kh√≥ c√≥ con, v√† c√≥ th·ªÉ c√≥ m·ªôt s·ªë ƒë·∫∑c ƒëi·ªÉm nh∆∞ ng·ª±c ph√°t tri·ªÉn v√† d√°ng ng∆∞·ªùi cao, m·∫£nh kh·∫£nh.' },
                { id: 6, name: 'H·ªôi ch·ª©ng Cri-du-chat', specialty: 'Nhi', mechanism_type: 'B·∫•t th∆∞·ªùng c·∫•u tr√∫c NST', mechanism: 'M·∫•t m·ªôt ƒëo·∫°n ·ªü nh√°nh ng·∫Øn c·ªßa NST s·ªë 5 (5p-). M·∫•t gen `CTNND2` li√™n quan ƒë·∫øn ch·∫≠m ph√°t tri·ªÉn tr√≠ tu·ªá n·∫∑ng.', symptoms: '‚Ä¢ Ti·∫øng kh√≥c ƒë·∫∑c tr∆∞ng: Ti·∫øng kh√≥c the th√© nh∆∞ m√®o k√™u.\n‚Ä¢ Ch·∫≠m ph√°t tri·ªÉn: T√¢m th·∫ßn v√† v·∫≠n ƒë·ªông ·ªü m·ª©c ƒë·ªô n·∫∑ng.\n‚Ä¢ ƒê·∫∑c ƒëi·ªÉm h√¨nh th√°i: ƒê·∫ßu nh·ªè, m·∫∑t tr√≤n, hai m·∫Øt xa nhau.', diagnosis: 'Karyotype, FISH, CMA', aiExplanation: 'T√™n c·ªßa h·ªôi ch·ª©ng n√†y c√≥ nghƒ©a l√† "ti·∫øng kh√≥c c·ªßa m√®o" trong ti·∫øng Ph√°p, v√¨ tr·∫ª s∆° sinh m·∫Øc b·ªánh c√≥ ti·∫øng kh√≥c r·∫•t ƒë·∫∑c tr∆∞ng. Nguy√™n nh√¢n l√† do b·ªã m·∫•t m·ªôt m·∫©u nh·ªè c·ªßa nhi·ªÖm s·∫Øc th·ªÉ s·ªë 5. Vi·ªác thi·∫øu ƒëi c√°c gen tr√™n ƒëo·∫°n b·ªã m·∫•t n√†y g√¢y ra c√°c v·∫•n ƒë·ªÅ trong s·ª± ph√°t tri·ªÉn c·ªßa thanh qu·∫£n, n√£o b·ªô, d·∫´n ƒë·∫øn ti·∫øng kh√≥c l·∫° v√† s·ª± ch·∫≠m ph√°t tri·ªÉn ƒë√°ng k·ªÉ.' },
                { id: 9, name: 'V√¥ sinh & S·∫£y thai li√™n ti·∫øp', specialty: 'S·∫£n', mechanism_type: 'B·∫•t th∆∞·ªùng c·∫•u tr√∫c NST', mechanism: 'M·ªôt trong hai v·ª£ ch·ªìng mang b·∫•t th∆∞·ªùng c·∫•u tr√∫c NST d·∫°ng c√¢n b·∫±ng (v√≠ d·ª•: chuy·ªÉn ƒëo·∫°n). Ng∆∞·ªùi mang th∆∞·ªùng kh·ªèe m·∫°nh nh∆∞ng c√≥ nguy c∆° cao t·∫°o ra giao t·ª≠ m·∫•t c√¢n b·∫±ng di truy·ªÅn.', symptoms: 'S·∫£y thai t·ª± nhi√™n t·ª´ hai l·∫ßn tr·ªü l√™n, v√¥ sinh kh√¥ng r√µ nguy√™n nh√¢n.', diagnosis: 'Karyotype m√°u c·ªßa c·∫£ hai v·ª£ ch·ªìng', aiExplanation: 'ƒê√¥i khi, m·ªôt ng∆∞·ªùi ho√†n to√†n kh·ªèe m·∫°nh l·∫°i mang m·ªôt s·ª± s·∫Øp x·∫øp l·∫°i "im l·∫∑ng" trong b·ªô nhi·ªÖm s·∫Øc th·ªÉ c·ªßa h·ªç, g·ªçi l√† chuy·ªÉn ƒëo·∫°n c√¢n b·∫±ng. Gi·ªëng nh∆∞ hai trang s√°ch b·ªã ƒë·ªïi ch·ªó cho nhau nh∆∞ng kh√¥ng m·∫•t ch·ªØ n√†o. Tuy nhi√™n, khi h·ªç t·∫°o ra tr·ª©ng ho·∫∑c tinh tr√πng, qu√° tr√¨nh n√†y c√≥ th·ªÉ b·ªã l·ªói, t·∫°o ra c√°c giao t·ª≠ b·ªã thi·∫øu ho·∫∑c th·ª´a th√¥ng tin di truy·ªÅn. Ph√¥i ƒë∆∞·ª£c t·∫°o t·ª´ c√°c giao t·ª≠ l·ªói n√†y th∆∞·ªùng kh√¥ng th·ªÉ ph√°t tri·ªÉn, d·∫´n ƒë·∫øn s·∫£y thai.' },
                { id: 11, name: 'B·ªánh B·∫°ch c·∫ßu T·ªßy M·∫°n (CML)', specialty: 'N·ªôi', mechanism_type: 'B·∫•t th∆∞·ªùng c·∫•u tr√∫c NST', mechanism: 'Chuy·ªÉn ƒëo·∫°n t(9;22), t·∫°o NST Philadelphia v√† gen dung h·ª£p BCR-ABL1, th√∫c ƒë·∫©y t·∫ø b√†o d√≤ng t·ªßy tƒÉng sinh kh√¥ng ki·ªÉm so√°t.', symptoms: 'M·ªát m·ªèi, s·ª•t c√¢n, l√°ch to, ƒë·ªï m·ªì h√¥i ƒë√™m, xanh xao.', diagnosis: 'Karyotype t·ªßy x∆∞∆°ng, FISH', aiExplanation: 'ƒê√¢y l√† m·ªôt lo·∫°i ung th∆∞ m√°u. N√≥ x·∫£y ra khi c√≥ m·ªôt s·ª± "ch·∫≠p ƒëi·ªán" di truy·ªÅn: m·ªôt ph·∫ßn c·ªßa nhi·ªÖm s·∫Øc th·ªÉ 9 b·ªã ƒë·ª©t ra v√† g·∫Øn nh·∫ßm v√†o nhi·ªÖm s·∫Øc th·ªÉ 22. S·ª± k·∫øt h·ª£p sai l·∫ßm n√†y t·∫°o ra m·ªôt gen m·ªõi g·ªçi l√† BCR-ABL1, ho·∫°t ƒë·ªông nh∆∞ m·ªôt c√¥ng t·∫Øc lu√¥n b·∫≠t, ra l·ªánh cho c√°c t·∫ø b√†o m√°u tr·∫Øng (d√≤ng t·ªßy) s·∫£n xu·∫•t li√™n t·ª•c kh√¥ng ki·ªÉm so√°t, g√¢y ra b·ªánh.' },
                { id: 14, name: 'Ung th∆∞ V√∫ (HER2+)', specialty: 'Ngo·∫°i', mechanism_type: 'B·∫•t th∆∞·ªùng c·∫•u tr√∫c NST', mechanism: 'Khu·∫øch ƒë·∫°i gen HER2 tr√™n NST 17, d·∫´n ƒë·∫øn s·∫£n xu·∫•t qu√° m·ª©c protein HER2, k√≠ch th√≠ch t·∫ø b√†o ung th∆∞ ph√°t tri·ªÉn.', symptoms: 'Kh·ªëi u ·ªü v√∫ ho·∫∑c n√°ch, thay ƒë·ªïi h√¨nh d·∫°ng v√∫.', diagnosis: 'FISH tr√™n m·∫´u m√¥ kh·ªëi u', aiExplanation: 'H√£y t∆∞·ªüng t∆∞·ª£ng tr√™n b·ªÅ m·∫∑t t·∫ø b√†o v√∫ c√≥ nh·ªØng chi·∫øc "ƒÉng-ten" g·ªçi l√† HER2, gi√∫p nh·∫≠n t√≠n hi·ªáu ƒë·ªÉ ph√°t tri·ªÉn. ·ªû lo·∫°i ung th∆∞ v√∫ HER2 d∆∞∆°ng t√≠nh, c√°c t·∫ø b√†o ung th∆∞ c√≥ qu√° nhi·ªÅu chi·∫øc ƒÉng-ten n√†y. ƒêi·ªÅu n√†y l√†m ch√∫ng nh·∫≠n ƒë∆∞·ª£c qu√° nhi·ªÅu t√≠n hi·ªáu "ph√°t tri·ªÉn", khi·∫øn kh·ªëi u l·ªõn l√™n r·∫•t nhanh v√† hung hƒÉng h∆°n. May m·∫Øn l√† ch√∫ng ta c√≥ c√°c lo·∫°i thu·ªëc nh·∫Øm tr√∫ng v√†o nh·ªØng chi·∫øc ƒÉng-ten n√†y ƒë·ªÉ ngƒÉn ch·∫∑n ch√∫ng.' }
            ],
            mechanisms: [
                { title: 'B·∫•t th∆∞·ªùng v·ªÅ S·ªë l∆∞·ª£ng Nhi·ªÖm s·∫Øc th·ªÉ (Aneuploidy)', content: 'ƒê√¢y l√† t√¨nh tr·∫°ng t·∫ø b√†o c√≥ s·ªë l∆∞·ª£ng nhi·ªÖm s·∫Øc th·ªÉ b·∫•t th∆∞·ªùng, kh√¥ng ph·∫£i l√† b·ªôi s·ªë c·ªßa b·ªô ƒë∆°n b·ªôi (n). Nguy√™n nh√¢n ch√≠nh l√† s·ª± kh√¥ng ph√¢n ly c·ªßa c√°c c·∫∑p nhi·ªÖm s·∫Øc th·ªÉ trong qu√° tr√¨nh gi·∫£m ph√¢n. <br> ‚Ä¢ <strong>Trisomy (Th·ª´a m·ªôt NST):</strong> T·∫ø b√†o c√≥ 3 b·∫£n sao c·ªßa m·ªôt NST thay v√¨ 2 (v√≠ d·ª•: Trisomy 21 g√¢y H·ªôi ch·ª©ng Down).<br> ‚Ä¢ <strong>Monosomy (Thi·∫øu m·ªôt NST):</strong> T·∫ø b√†o ch·ªâ c√≥ 1 b·∫£n sao c·ªßa m·ªôt NST thay v√¨ 2 (v√≠ d·ª•: Monosomy X g√¢y H·ªôi ch·ª©ng Turner).' },
                { title: 'B·∫•t th∆∞·ªùng v·ªÅ C·∫•u tr√∫c Nhi·ªÖm s·∫Øc th·ªÉ', content: 'ƒê√¢y l√† t√¨nh tr·∫°ng c·∫•u tr√∫c c·ªßa m·ªôt ho·∫∑c nhi·ªÅu nhi·ªÖm s·∫Øc th·ªÉ b·ªã thay ƒë·ªïi. <br> ‚Ä¢ <strong>M·∫•t ƒëo·∫°n (Deletion):</strong> M·ªôt ƒëo·∫°n c·ªßa NST b·ªã m·∫•t ƒëi (v√≠ d·ª•: H·ªôi ch·ª©ng Cri-du-chat).<br> ‚Ä¢ <strong>L·∫∑p ƒëo·∫°n (Duplication):</strong> M·ªôt ƒëo·∫°n c·ªßa NST ƒë∆∞·ª£c l·∫∑p l·∫°i.<br> ‚Ä¢ <strong>ƒê·∫£o ƒëo·∫°n (Inversion):</strong> M·ªôt ƒëo·∫°n NST b·ªã ƒë·ª©t ra, ƒë·∫£o ng∆∞·ª£c 180 ƒë·ªô v√† g·∫Øn l·∫°i.<br> ‚Ä¢ <strong>Chuy·ªÉn ƒëo·∫°n (Translocation):</strong> M·ªôt ƒëo·∫°n NST b·ªã ƒë·ª©t ra v√† g·∫Øn v√†o m·ªôt NST kh√°c. Chuy·ªÉn ƒëo·∫°n t(9;22) l√† nguy√™n nh√¢n g√¢y B·ªánh B·∫°ch c·∫ßu T·ªßy M·∫°n (CML).' },
                { title: 'Vi m·∫•t/l·∫∑p ƒëo·∫°n (Microdeletion/Microduplication)', content: 'L√† c√°c b·∫•t th∆∞·ªùng c·∫•u tr√∫c nh∆∞ng ·ªü quy m√¥ r·∫•t nh·ªè, kh√¥ng th·ªÉ ph√°t hi·ªán b·∫±ng ph∆∞∆°ng ph√°p Karyotype th√¥ng th∆∞·ªùng. Ch√∫ng l√† nguy√™n nh√¢n c·ªßa nhi·ªÅu h·ªôi ch·ª©ng di truy·ªÅn, v√≠ d·ª• nh∆∞ H·ªôi ch·ª©ng DiGeorge (vi m·∫•t ƒëo·∫°n 22q11.2). C·∫ßn c√°c k·ªπ thu·∫≠t c√≥ ƒë·ªô ph√¢n gi·∫£i cao h∆°n nh∆∞ FISH ho·∫∑c CMA ƒë·ªÉ ch·∫©n ƒëo√°n.' },
                { title: 'H·ªôi ch·ª©ng g√£y Nhi·ªÖm s·∫Øc th·ªÉ', content: 'ƒê√¢y l√† m·ªôt nh√≥m c√°c r·ªëi lo·∫°n di truy·ªÅn hi·∫øm g·∫∑p do ƒë·ªôt bi·∫øn ·ªü c√°c gen c√≥ vai tr√≤ s·ª≠a ch·ªØa t·ªïn th∆∞∆°ng DNA. Khi c√°c gen n√†y b·ªã l·ªói, b·ªô gen tr·ªü n√™n m·∫•t ·ªïn ƒë·ªãnh, d·ªÖ b·ªã ƒë·ª©t g√£y v√† t√°i s·∫Øp x·∫øp, d·∫´n ƒë·∫øn nguy c∆° ung th∆∞ r·∫•t cao. V√≠ d·ª• ƒëi·ªÉn h√¨nh l√† Thi·∫øu m√°u Fanconi.' }
            ]
        };

        document.addEventListener('DOMContentLoaded', () => {
            const diseaseGrid = document.getElementById('diseaseGrid');
            const searchInput = document.getElementById('searchInput');
            const specialtyFilters = document.getElementById('specialtyFilters');
            const mechanismTypeFilters = document.getElementById('mechanismTypeFilters');
            const modal = document.getElementById('modal');
            const modalContent = document.getElementById('modal-content');
            const closeModal = document.getElementById('closeModal');
            
            let activeSpecialty = 'all';
            let activeMechanismType = 'all';

            function renderDiseases() {
                const searchTerm = searchInput.value.toLowerCase();
                diseaseGrid.innerHTML = '';
                
                const filteredDiseases = db.diseases.filter(disease => {
                    const matchesSearch = disease.name.toLowerCase().includes(searchTerm);
                    const matchesSpecialty = activeSpecialty === 'all' || disease.specialty === activeSpecialty;
                    const matchesMechanismType = activeMechanismType === 'all' || (disease.mechanism_type && disease.mechanism_type.includes(activeMechanismType));
                    return matchesSearch && matchesSpecialty && matchesMechanismType;
                });

                if (filteredDiseases.length === 0) {
                    diseaseGrid.innerHTML = `<p class="text-gray-500 col-span-full text-center">Kh√¥ng t√¨m th·∫•y b·ªánh l√Ω ph√π h·ª£p.</p>`;
                    return;
                }

                filteredDiseases.forEach((disease, index) => {
                    const card = document.createElement('div');
                    card.className = 'card bg-gray-50 border border-gray-200 rounded-lg p-4 cursor-pointer flex flex-col justify-between fade-in-up';
                    card.style.animationDelay = `${index * 50}ms`;
                    card.innerHTML = `
                        <div>
                            <h3 class="font-bold text-lg text-blue-700 mb-2">${disease.name}</h3>
                            <p class="text-sm text-gray-600">${disease.mechanism_type || 'ƒêa d·∫°ng'}</p>
                        </div>
                        <div class="mt-3 text-right">
                            <span class="text-xs font-semibold bg-blue-100 text-blue-800 px-2 py-1 rounded-full">${disease.specialty}</span>
                        </div>
                    `;
                    card.addEventListener('click', () => showModal(disease));
                    diseaseGrid.appendChild(card);
                });
            }

            function createFilterButtons(container, filterType, data) {
                const types = ['all', ...new Set(data.map(item => item[filterType]).filter(Boolean))];
                 container.innerHTML = types.map(type => 
                    `<button class="filter-btn border border-gray-300 px-3 py-1 rounded-full text-sm transition hover:bg-blue-100 ${type === 'all' ? 'active' : ''}" data-filter="${type}" data-type="${filterType}">
                        ${type === 'all' ? 'T·∫•t c·∫£' : type}
                    </button>`
                ).join('');
            }
            
            function handleFilterClick(e) {
                if (!e.target.classList.contains('filter-btn')) return;

                const filter = e.target.dataset.filter;
                const type = e.target.dataset.type;

                if (type === 'specialty') {
                    activeSpecialty = filter;
                } else if (type === 'mechanism_type') {
                    activeMechanismType = filter;
                }

                document.querySelectorAll(`[data-type="${type}"]`).forEach(btn => btn.classList.remove('active'));
                e.target.classList.add('active');
                
                renderDiseases();
            }

            function showModal(disease) {
                document.getElementById('modal-title').textContent = disease.name;
                document.getElementById('modal-mechanism').textContent = disease.mechanism;
                document.getElementById('modal-symptoms').textContent = disease.symptoms;
                document.getElementById('modal-diagnosis').textContent = disease.diagnosis;
                
                document.getElementById('ai-explanation').innerHTML = disease.aiExplanation ? disease.aiExplanation.replace(/\n/g, '<br>') : 'Kh√¥ng c√≥ d·ªØ li·ªáu.';

                modal.classList.remove('hidden', 'invisible');
                setTimeout(() => {
                    modal.classList.remove('opacity-0');
                    modalContent.classList.remove('opacity-0', 'scale-95');
                }, 10);
            }

            function hideModal() {
                modal.classList.add('opacity-0');
                modalContent.classList.add('opacity-0', 'scale-95');
                setTimeout(() => modal.classList.add('hidden', 'invisible'), 300);
            }

            createFilterButtons(specialtyFilters, 'specialty', db.diseases);
            createFilterButtons(mechanismTypeFilters, 'mechanism_type', db.diseases);

            specialtyFilters.addEventListener('click', handleFilterClick);
            mechanismTypeFilters.addEventListener('click', handleFilterClick);
            searchInput.addEventListener('input', renderDiseases);
            closeModal.addEventListener('click', hideModal);
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    hideModal();
                }
            });

            const navButtons = document.querySelectorAll('.nav-btn');
            const tabs = document.querySelectorAll('.tab-content');
            navButtons.forEach(button => {
                button.addEventListener('click', () => {
                    navButtons.forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');
                    const tabId = button.dataset.tab;
                    tabs.forEach(tab => {
                        if (tab.id === tabId) {
                            tab.classList.remove('hidden');
                            tab.classList.add('fade-in-up');
                        } else {
                            tab.classList.add('hidden');
                             tab.classList.remove('fade-in-up');
                        }
                    });
                });
            });

            const specialtyCounts = db.diseases.reduce((acc, disease) => {
                acc[disease.specialty] = (acc[disease.specialty] || 0) + 1;
                return acc;
            }, {});

            const ctx = document.getElementById('specialtyChart').getContext('2d');
            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: Object.keys(specialtyCounts),
                    datasets: [{
                        label: 'S·ªë l∆∞·ª£ng b·ªánh l√Ω',
                        data: Object.values(specialtyCounts),
                        backgroundColor: ['rgba(59, 130, 246, 0.7)', 'rgba(239, 68, 68, 0.7)', 'rgba(16, 185, 129, 0.7)', 'rgba(249, 115, 22, 0.7)'],
                        borderColor: ['#f8f9fa'],
                        borderWidth: 2
                    }]
                },
                options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { position: 'bottom' } }, animation: { animateScale: true, animateRotate: true } }
            });

            const mainAccordion = document.getElementById('accordion');
            db.mechanisms.forEach((item) => {
                const accordionItem = document.createElement('div');
                accordionItem.className = 'border border-gray-200 rounded-lg overflow-hidden';
                accordionItem.innerHTML = `
                    <button class="accordion-header w-full text-left p-4 bg-gray-100 hover:bg-gray-200 transition focus:outline-none flex justify-between items-center">
                        <h3 class="font-semibold text-lg text-gray-700">${item.title}</h3>
                        <span class="transform transition-transform duration-300">‚ñº</span>
                    </button>
                    <div class="accordion-content p-4 bg-white">
                        <p class="text-gray-600">${item.content}</p>
                    </div>
                `;
                mainAccordion.appendChild(accordionItem);
            });

            document.querySelectorAll('.accordion-header').forEach(header => {
                header.addEventListener('click', () => {
                    const content = header.nextElementSibling;
                    const icon = header.querySelector('span');
                    content.classList.toggle('open');
                    icon.classList.toggle('rotate-180');
                    if(content.classList.contains('open')) {
                        content.style.paddingTop = '1rem';
                        content.style.paddingBottom = '1rem';
                    } else {
                        content.style.paddingTop = '0';
                        content.style.paddingBottom = '0';
                    }
                });
            });
            
            document.querySelectorAll('.accordion-header-ai').forEach(header => {
                header.addEventListener('click', () => {
                    const content = header.nextElementSibling;
                    const icon = header.querySelector('span:last-child');
                    content.classList.toggle('open');
                    icon.classList.toggle('rotate-180');
                     if(content.classList.contains('open')) {
                        content.style.paddingTop = '1rem';
                        content.style.paddingBottom = '1rem';
                    } else {
                        content.style.paddingTop = '0';
                        content.style.paddingBottom = '0';
                    }
                });
            });

            renderDiseases();
        });
    </script>
</body>
</html>
